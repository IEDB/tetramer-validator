/*
 typeahead.js 1.3.1
 https://github.com/corejavascript/typeahead.js
 Copyright 2013-2020 Twitter, Inc. and other contributors; Licensed MIT
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.getGlobal=function(g){g=["object"==typeof globalThis&&globalThis,g,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var f=0;f<g.length;++f){var r=g[f];if(r&&r.Math==Math)return r}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.checkEs6ConformanceViaProxy=function(){try{var g={},f=Object.create(new $jscomp.global.Proxy(g,{get:function(r,q,x){return r==g&&"q"==q&&x==f}}));return!0===f.q}catch(r){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.arrayIteratorImpl=function(g){var f=0;return function(){return f<g.length?{done:!1,value:g[f++]}:{done:!0}}};$jscomp.arrayIterator=function(g){return{next:$jscomp.arrayIteratorImpl(g)}};
$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(g,f,r){if(g==Array.prototype||g==Object.prototype)return g;g[f]=r.value;return g};$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");
$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(g,f){var r=$jscomp.propertyToPolyfillSymbol[f];if(null==r)return g[f];r=g[r];return void 0!==r?r:g[f]};$jscomp.polyfill=function(g,f,r,q){f&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(g,f,r,q):$jscomp.polyfillUnisolated(g,f,r,q))};
$jscomp.polyfillUnisolated=function(g,f,r,q){r=$jscomp.global;g=g.split(".");for(q=0;q<g.length-1;q++){var x=g[q];if(!(x in r))return;r=r[x]}g=g[g.length-1];q=r[g];f=f(q);f!=q&&null!=f&&$jscomp.defineProperty(r,g,{configurable:!0,writable:!0,value:f})};
$jscomp.polyfillIsolated=function(g,f,r,q){var x=g.split(".");g=1===x.length;q=x[0];q=!g&&q in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var A=0;A<x.length-1;A++){var z=x[A];if(!(z in q))return;q=q[z]}x=x[x.length-1];r=$jscomp.IS_SYMBOL_NATIVE&&"es6"===r?q[x]:null;f=f(r);null!=f&&(g?$jscomp.defineProperty($jscomp.polyfills,x,{configurable:!0,writable:!0,value:f}):f!==r&&($jscomp.propertyToPolyfillSymbol[x]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(x):$jscomp.POLYFILL_PREFIX+x,x=
$jscomp.propertyToPolyfillSymbol[x],$jscomp.defineProperty(q,x,{configurable:!0,writable:!0,value:f})))};$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(g){if(g)return g;var f=function(x,A){this.$jscomp$symbol$id_=x;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:A})};f.prototype.toString=function(){return this.$jscomp$symbol$id_};var r=0,q=function(x){if(this instanceof q)throw new TypeError("Symbol is not a constructor");return new f("jscomp_symbol_"+(x||"")+"_"+r++,x)};return q},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(g){if(g)return g;g=Symbol("Symbol.iterator");for(var f="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<f.length;r++){var q=$jscomp.global[f[r]];"function"===typeof q&&"function"!=typeof q.prototype[g]&&$jscomp.defineProperty(q.prototype,g,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return g},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(g){g={next:g};g[Symbol.iterator]=function(){return this};return g};$jscomp.makeIterator=function(g){var f="undefined"!=typeof Symbol&&Symbol.iterator&&g[Symbol.iterator];return f?f.call(g):$jscomp.arrayIterator(g)};$jscomp.owns=function(g,f){return Object.prototype.hasOwnProperty.call(g,f)};
$jscomp.polyfill("WeakMap",function(g){function f(){if(!g||!Object.seal)return!1;try{var u=Object.seal({}),k=Object.seal({}),n=new g([[u,2],[k,3]]);if(2!=n.get(u)||3!=n.get(k))return!1;n.delete(u);n.set(k,4);return!n.has(u)&&4==n.get(k)}catch(e){return!1}}function r(){}function q(u){var k=typeof u;return"object"===k&&null!==u||"function"===k}function x(u){if(!$jscomp.owns(u,z)){var k=new r;$jscomp.defineProperty(u,z,{value:k})}}function A(u){if(!$jscomp.ISOLATE_POLYFILLS){var k=Object[u];k&&(Object[u]=
function(n){if(n instanceof r)return n;Object.isExtensible(n)&&x(n);return k(n)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(g&&$jscomp.ES6_CONFORMANCE)return g}else if(f())return g;var z="$jscomp_hidden_"+Math.random();A("freeze");A("preventExtensions");A("seal");var C=0,v=function(u){this.id_=(C+=Math.random()+1).toString();if(u){u=$jscomp.makeIterator(u);for(var k;!(k=u.next()).done;)k=k.value,this.set(k[0],k[1])}};v.prototype.set=function(u,k){if(!q(u))throw Error("Invalid WeakMap key");
x(u);if(!$jscomp.owns(u,z))throw Error("WeakMap key fail: "+u);u[z][this.id_]=k;return this};v.prototype.get=function(u){return q(u)&&$jscomp.owns(u,z)?u[z][this.id_]:void 0};v.prototype.has=function(u){return q(u)&&$jscomp.owns(u,z)&&$jscomp.owns(u[z],this.id_)};v.prototype.delete=function(u){return q(u)&&$jscomp.owns(u,z)&&$jscomp.owns(u[z],this.id_)?delete u[z][this.id_]:!1};return v},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(g){function f(){if($jscomp.ASSUME_NO_NATIVE_MAP||!g||"function"!=typeof g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{var v=Object.seal({x:4}),u=new g($jscomp.makeIterator([[v,"s"]]));if("s"!=u.get(v)||1!=u.size||u.get({x:4})||u.set({x:4},"t")!=u||2!=u.size)return!1;var k=u.entries(),n=k.next();if(n.done||n.value[0]!=v||"s"!=n.value[1])return!1;n=k.next();return n.done||4!=n.value[0].x||"t"!=n.value[1]||!k.next().done?!1:!0}catch(e){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(g&&$jscomp.ES6_CONFORMANCE)return g}else if(f())return g;var r=new WeakMap,q=function(v){this.data_={};this.head_=z();this.size=0;if(v){v=$jscomp.makeIterator(v);for(var u;!(u=v.next()).done;)u=u.value,this.set(u[0],u[1])}};q.prototype.set=function(v,u){v=0===v?0:v;var k=x(this,v);k.list||(k.list=this.data_[k.id]=[]);k.entry?k.entry.value=u:(k.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:v,value:u},k.list.push(k.entry),
this.head_.previous.next=k.entry,this.head_.previous=k.entry,this.size++);return this};q.prototype.delete=function(v){v=x(this,v);return v.entry&&v.list?(v.list.splice(v.index,1),v.list.length||delete this.data_[v.id],v.entry.previous.next=v.entry.next,v.entry.next.previous=v.entry.previous,v.entry.head=null,this.size--,!0):!1};q.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=z();this.size=0};q.prototype.has=function(v){return!!x(this,v).entry};q.prototype.get=function(v){return(v=
x(this,v).entry)&&v.value};q.prototype.entries=function(){return A(this,function(v){return[v.key,v.value]})};q.prototype.keys=function(){return A(this,function(v){return v.key})};q.prototype.values=function(){return A(this,function(v){return v.value})};q.prototype.forEach=function(v,u){for(var k=this.entries(),n;!(n=k.next()).done;)n=n.value,v.call(u,n[1],n[0],this)};q.prototype[Symbol.iterator]=q.prototype.entries;var x=function(v,u){var k=u&&typeof u;"object"==k||"function"==k?r.has(u)?k=r.get(u):
(k=""+ ++C,r.set(u,k)):k="p_"+u;var n=v.data_[k];if(n&&$jscomp.owns(v.data_,k))for(v=0;v<n.length;v++){var e=n[v];if(u!==u&&e.key!==e.key||u===e.key)return{id:k,list:n,index:v,entry:e}}return{id:k,list:n,index:-1,entry:void 0}},A=function(v,u){var k=v.head_;return $jscomp.iteratorPrototype(function(){if(k){for(;k.head!=v.head_;)k=k.previous;for(;k.next!=k.head;)return k=k.next,{done:!1,value:u(k)};k=null}return{done:!0,value:void 0}})},z=function(){var v={};return v.previous=v.next=v.head=v},C=0;
return q},"es6","es3");
$jscomp.polyfill("Set",function(g){function f(){if($jscomp.ASSUME_NO_NATIVE_SET||!g||"function"!=typeof g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{var q=Object.seal({x:4}),x=new g($jscomp.makeIterator([q]));if(!x.has(q)||1!=x.size||x.add(q)!=x||1!=x.size||x.add({x:4})!=x||2!=x.size)return!1;var A=x.entries(),z=A.next();if(z.done||z.value[0]!=q||z.value[1]!=q)return!1;z=A.next();return z.done||z.value[0]==q||4!=z.value[0].x||z.value[1]!=z.value[0]?!1:A.next().done}catch(C){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(g&&$jscomp.ES6_CONFORMANCE)return g}else if(f())return g;var r=function(q){this.map_=new Map;if(q){q=$jscomp.makeIterator(q);for(var x;!(x=q.next()).done;)this.add(x.value)}this.size=this.map_.size};r.prototype.add=function(q){q=0===q?0:q;this.map_.set(q,q);this.size=this.map_.size;return this};r.prototype.delete=function(q){q=this.map_.delete(q);this.size=this.map_.size;return q};r.prototype.clear=function(){this.map_.clear();this.size=0};r.prototype.has=
function(q){return this.map_.has(q)};r.prototype.entries=function(){return this.map_.entries()};r.prototype.values=function(){return this.map_.values()};r.prototype.keys=r.prototype.values;r.prototype[Symbol.iterator]=r.prototype.values;r.prototype.forEach=function(q,x){var A=this;this.map_.forEach(function(z){return q.call(x,z,z,A)})};return r},"es6","es3");
$jscomp.polyfill("Array.from",function(g){return g?g:function(f,r,q){r=null!=r?r:function(C){return C};var x=[],A="undefined"!=typeof Symbol&&Symbol.iterator&&f[Symbol.iterator];if("function"==typeof A){f=A.call(f);for(var z=0;!(A=f.next()).done;)x.push(r.call(q,A.value,z++))}else for(A=f.length,z=0;z<A;z++)x.push(r.call(q,f[z],z));return x}},"es6","es3");
$jscomp.findInternal=function(g,f,r){g instanceof String&&(g=String(g));for(var q=g.length,x=0;x<q;x++){var A=g[x];if(f.call(r,A,x,g))return{i:x,v:A}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(g){return g?g:function(f,r){return $jscomp.findInternal(this,f,r).v}},"es6","es3");
(function(g,f){"function"===typeof define&&define.amd?define(["jquery"],function(r){return g.Bloodhound=f(r)}):"object"===typeof module&&module.exports?module.exports=f(require("jquery")):g.Bloodhound=f(g.jQuery)})(this,function(g){var f=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(k){return!k||/^\s*$/.test(k)},escapeRegExChars:function(k){return k.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,
"\\$&")},isString:function(k){return"string"===typeof k},isNumber:function(k){return"number"===typeof k},isArray:g.isArray,isFunction:g.isFunction,isObject:g.isPlainObject,isUndefined:function(k){return"undefined"===typeof k},isElement:function(k){return!(!k||1!==k.nodeType)},isJQuery:function(k){return k instanceof g},toStr:function(k){return f.isUndefined(k)||null===k?"":k+""},bind:g.proxy,each:function(k,n){g.each(k,function(e,c){return n(c,e)})},map:g.map,filter:g.grep,every:function(k,n){var e=
!0;if(!k)return e;g.each(k,function(c,a){if(!(e=n.call(null,a,c,k)))return!1});return!!e},some:function(k,n){var e=!1;if(!k)return e;g.each(k,function(c,a){if(e=n.call(null,a,c,k))return!1});return!!e},mixin:g.extend,identity:function(k){return k},clone:function(k){return g.extend(!0,{},k)},getIdGenerator:function(){var k=0;return function(){return k++}},templatify:function(k){function n(){return String(k)}return g.isFunction(k)?k:n},defer:function(k){setTimeout(k,0)},debounce:function(k,n,e){var c,
a;return function(){var b=this,d=arguments;var h=e&&!c;clearTimeout(c);c=setTimeout(function(){c=null;e||(a=k.apply(b,d))},n);h&&(a=k.apply(b,d));return a}},throttle:function(k,n){var e,c,a,b;var d=0;var h=function(){d=new Date;a=null;b=k.apply(e,c)};return function(){var m=new Date,p=n-(m-d);e=this;c=arguments;0>=p?(clearTimeout(a),a=null,d=m,b=k.apply(e,c)):a||(a=setTimeout(h,p));return b}},stringify:function(k){return f.isString(k)?k:JSON.stringify(k)},guid:function(){function k(n){var e=(Math.random().toString(16)+
"000000000").substr(2,8);return n?"-"+e.substr(0,4)+"-"+e.substr(4,4):e}return"tt-"+k()+k(!0)+k(!0)+k()},noop:function(){}}}(),r=function(){function k(a){return(a=f.toStr(a))?a.split(/\s+/):[]}function n(a){return(a=f.toStr(a))?a.split(/\W+/):[]}function e(a){function b(m){if("number"!==typeof m||isNaN(m)||1>m||Infinity===m)throw Error("`"+m+"` is not a valid argument for n-gram");return function(p){var w=[];if(null===p||void 0===p)return w;p=p.slice?p:String(p);var l=p.length-m+1;if(1>l)return w;
for(;l--;)w[l]=p.slice(l,l+m);return w}}a=f.toStr(a);var d=new Set,h;for(h=1;h<=a.length;h++)b(h)(a).forEach(d.add,d);return Array.from(d)}function c(a){return function(b){b=f.isArray(b)?b:[].slice.call(arguments,0);return function(d){var h=[];f.each(b,function(m){h=h.concat(a(f.toStr(d[m])))});return h}}}return{nonword:n,whitespace:k,ngram:e,obj:{nonword:c(n),whitespace:c(k),ngram:c(e)}}}(),q=function(){function k(c){this.maxSize=f.isNumber(c)?c:100;this.reset();0>=this.maxSize&&(this.set=this.get=
g.noop)}function n(){this.head=this.tail=null}function e(c,a){this.key=c;this.val=a;this.prev=this.next=null}f.mixin(k.prototype,{set:function(c,a){var b=this.list.tail;this.size>=this.maxSize&&(this.list.remove(b),delete this.hash[b.key],this.size--);(b=this.hash[c])?(b.val=a,this.list.moveToFront(b)):(b=new e(c,a),this.list.add(b),this.hash[c]=b,this.size++)},get:function(c){if(c=this.hash[c])return this.list.moveToFront(c),c.val},reset:function(){this.size=0;this.hash={};this.list=new n}});f.mixin(n.prototype,
{add:function(c){this.head&&(c.next=this.head,this.head.prev=c);this.head=c;this.tail=this.tail||c},remove:function(c){c.prev?c.prev.next=c.next:this.head=c.next;c.next?c.next.prev=c.prev:this.tail=c.prev},moveToFront:function(c){this.remove(c);this.add(c)}});return k}(),x=function(){function k(c,a){this.prefix=["__",c,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+f.escapeRegExChars(this.prefix));this.ls=a||e;!this.ls&&this._noop()}function n(c){return JSON.stringify(f.isUndefined(c)?
null:c)}try{var e=window.localStorage;e.setItem("~~~","!");e.removeItem("~~~")}catch(c){e=null}f.mixin(k.prototype,{_prefix:function(c){return this.prefix+c},_ttlKey:function(c){return this._prefix(c)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=f.noop},_safeSet:function(c,a){try{this.ls.setItem(c,a)}catch(b){"QuotaExceededError"===b.name&&(this.clear(),this._noop())}},get:function(c){this.isExpired(c)&&this.remove(c);return g.parseJSON(this.ls.getItem(this._prefix(c)))},
set:function(c,a,b){f.isNumber(b)?this._safeSet(this._ttlKey(c),n((new Date).getTime()+b)):this.ls.removeItem(this._ttlKey(c));return this._safeSet(this._prefix(c),n(a))},remove:function(c){this.ls.removeItem(this._ttlKey(c));this.ls.removeItem(this._prefix(c));return this},clear:function(){var c=this.keyMatcher;var a,b,d=[],h=e.length;for(a=0;a<h;a++)(b=e.key(a)).match(c)&&d.push(b.replace(c,""));for(c=d.length;c--;)this.remove(d[c]);return this},isExpired:function(c){c=g.parseJSON(this.ls.getItem(this._ttlKey(c)));
return f.isNumber(c)&&(new Date).getTime()>c?!0:!1}});return k}(),A=function(){function k(a){a=a||{};this.maxPendingRequests=a.maxPendingRequests||6;this.cancelled=!1;this.lastReq=null;this._send=a.transport;this._get=a.limiter?a.limiter(this._get):this._get;this._cache=!1===a.cache?new q(0):c}var n=0,e={},c=new q(10);k.setMaxPendingRequests=function(a){this.maxPendingRequests=a};k.resetCache=function(){c.reset()};f.mixin(k.prototype,{_fingerprint:function(a){a=a||{};return a.url+a.type+g.param(a.data||
{})},_get:function(a,b){function d(t){b(null,t);p._cache.set(l,t)}function h(){b(!0)}function m(){n--;delete e[l];p.onDeckRequestArgs&&(p._get.apply(p,p.onDeckRequestArgs),p.onDeckRequestArgs=null)}var p=this,w;var l=this._fingerprint(a);this.cancelled||l!==this.lastReq||((w=e[l])?w.done(d).fail(h):n<this.maxPendingRequests?(n++,e[l]=this._send(a).done(d).fail(h).always(m)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(a,b){var d;b=b||g.noop;a=f.isString(a)?{url:a}:a||{};var h=
this._fingerprint(a);this.cancelled=!1;this.lastReq=h;(d=this._cache.get(h))?b(null,d):this._get(a,b)},cancel:function(){this.cancelled=!0}});return k}(),z=window.SearchIndex=function(){function k(c){c=c||{};c.datumTokenizer&&c.queryTokenizer||g.error("datumTokenizer and queryTokenizer are both required");this.identify=c.identify||f.stringify;this.datumTokenizer=c.datumTokenizer;this.queryTokenizer=c.queryTokenizer;this.matchAnyQueryToken=c.matchAnyQueryToken;this.reset()}function n(c){c=f.filter(c,
function(a){return!!a});return c=f.map(c,function(a){return a.toLowerCase()})}function e(c){for(var a={},b=[],d=0,h=c.length;d<h;d++)a[c[d]]||(a[c[d]]=!0,b.push(c[d]));return b}f.mixin(k.prototype,{bootstrap:function(c){this.datums=c.datums;this.trie=c.trie},add:function(c){var a=this;c=f.isArray(c)?c:[c];f.each(c,function(b){var d;a.datums[d=a.identify(b)]=b;b=n(a.datumTokenizer(b));f.each(b,function(h){var m;var p=a.trie;for(h=h.split("");m=h.shift();)p=p.c[m]||(p.c[m]={i:[],c:{}}),p.i.push(d)})})},
get:function(c){var a=this;return f.map(c,function(b){return a.datums[b]})},search:function(c){var a=this,b;c=n(this.queryTokenizer(c));f.each(c,function(d){var h;if(b&&0===b.length&&!a.matchAnyQueryToken)return!1;var m=a.trie;for(d=d.split("");m&&(h=d.shift());)m=m.c[h];if(m&&0===d.length){h=m.i.slice(0);if(b){m=b;var p=d=0,w=[];m=m.sort();h=h.sort();for(var l=m.length,t=h.length;d<l&&p<t;)m[d]<h[p]?d++:(m[d]>h[p]||(w.push(m[d]),d++),p++);m=w}else m=h;b=m}else if(!a.matchAnyQueryToken)return b=[],
!1});return b?f.map(e(b),function(d){return a.datums[d]}):[]},all:function(){var c=[],a;for(a in this.datums)c.push(this.datums[a]);return c},reset:function(){this.datums={};this.trie={i:[],c:{}}},serialize:function(){return{datums:this.datums,trie:this.trie}}});return k}(),C=function(){function k(n){this.url=n.url;this.ttl=n.ttl;this.cache=n.cache;this.prepare=n.prepare;this.transform=n.transform;this.transport=n.transport;this.thumbprint=n.thumbprint;this.storage=new x(n.cacheKey)}f.mixin(k.prototype,
{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(n){this.cache&&(this.storage.set("data",n,this.ttl),this.storage.set("protocol",location.protocol,this.ttl),this.storage.set("thumbprint",this.thumbprint,this.ttl))},fromCache:function(){if(!this.cache)return null;var n=this.storage.get("data");var e=this.storage.get("protocol");e=this.storage.get("thumbprint")!==this.thumbprint||e!==location.protocol;return n&&!e?n:null},fromNetwork:function(n){var e=this;if(n){var c=
this.prepare(this._settings());this.transport(c).fail(function(){n(!0)}).done(function(a){n(null,e.transform(a))})}},clear:function(){this.storage.clear();return this}});return k}(),v=function(){function k(n){this.url=n.url;this.prepare=n.prepare;this.transform=n.transform;this.indexResponse=n.indexResponse;this.transport=new A({cache:n.cache,limiter:n.limiter,transport:n.transport,maxPendingRequests:n.maxPendingRequests})}f.mixin(k.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},
get:function(n,e){var c=this;if(e)return n=this.prepare(n||"",this._settings()),this.transport.get(n,function(a,b){a?e([]):e(c.transform(b))})},cancelLastRequest:function(){this.transport.cancel()}});return k}(),u=function(){function k(b){if(!b)return null;var d={url:null,ttl:864E5,cache:!0,cacheKey:null,thumbprint:"",prepare:f.identity,transform:f.identity,transport:null};b=f.isString(b)?{url:b}:b;b=f.mixin(d,b);!b.url&&g.error("prefetch requires url to be set");b.transform=b.filter||b.transform;
b.cacheKey=b.cacheKey||b.url;b.thumbprint="1.3.1"+b.thumbprint;b.transport=b.transport?a(b.transport):g.ajax;return b}function n(b){if(b){var d={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:f.identity,transport:null};b=f.isString(b)?{url:b}:b;b=f.mixin(d,b);!b.url&&g.error("remote requires url to be set");b.transform=b.filter||b.transform;b.prepare=e(b);b.limiter=c(b);b.transport=b.transport?a(b.transport):g.ajax;delete b.replace;
delete b.wildcard;delete b.rateLimitBy;delete b.rateLimitWait;return b}}function e(b){function d(t,y){y.url=w(y.url,t);return y}function h(t,y){y.url=y.url.replace(l,encodeURIComponent(t));return y}function m(t,y){return y}var p=b.prepare;var w=b.replace;var l=b.wildcard;return p?p:p=w?d:b.wildcard?h:m}function c(b){function d(w){return function(l){return f.debounce(l,w)}}function h(w){return function(l){return f.throttle(l,w)}}var m=b.limiter;var p=b.rateLimitBy;b=b.rateLimitWait;m||(m=/^throttle$/i.test(p)?
h(b):d(b));return m}function a(b){return function(d){var h=g.Deferred();b(d,function(m){f.defer(function(){h.resolve(m)})},function(m){f.defer(function(){h.reject(m)})});return h}}return function(b){b=f.mixin({initialize:!0,identify:f.stringify,datumTokenizer:null,queryTokenizer:null,matchAnyQueryToken:!1,sufficient:5,indexRemote:!1,sorter:null,local:[],prefetch:null,remote:null},b||{});!b.datumTokenizer&&g.error("datumTokenizer is required");!b.queryTokenizer&&g.error("queryTokenizer is required");
var d=b.sorter;b.sorter=d?function(h){return h.sort(d)}:f.identity;b.local=f.isFunction(b.local)?b.local():b.local;b.prefetch=k(b.prefetch);b.remote=n(b.remote);return b}}();return function(){function k(e){e=u(e);this.sorter=e.sorter;this.identify=e.identify;this.sufficient=e.sufficient;this.indexRemote=e.indexRemote;this.local=e.local;this.remote=e.remote?new v(e.remote):null;this.prefetch=e.prefetch?new C(e.prefetch):null;this.index=new z({identify:this.identify,datumTokenizer:e.datumTokenizer,
queryTokenizer:e.queryTokenizer});!1!==e.initialize&&this.initialize()}var n=window&&window.Bloodhound;k.noConflict=function(){window&&(window.Bloodhound=n);return k};k.tokenizers=r;f.mixin(k.prototype,{__ttAdapter:function(){function e(b,d,h){return a.search(b,d,h)}function c(b,d){return a.search(b,d)}var a=this;return this.remote?e:c},_loadPrefetch:function(){function e(d,h){if(d)return b.reject();c.add(h);c.prefetch.store(c.index.serialize());b.resolve()}var c=this,a;var b=g.Deferred();this.prefetch?
(a=this.prefetch.fromCache())?(this.index.bootstrap(a),b.resolve()):this.prefetch.fromNetwork(e):b.resolve();return b.promise()},_initialize:function(){var e=this;this.clear();(this.initPromise=this._loadPrefetch()).done(function(){e.add(e.local)});return this.initPromise},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){this.index.add(e);return this},get:function(e){e=f.isArray(e)?e:[].slice.call(arguments);return this.index.get(e)},search:function(e,
c,a){function b(m){var p=[];f.each(m,function(w){!f.some(h,function(l){return d.identify(w)===d.identify(l)})&&p.push(w)});d.indexRemote&&d.add(p);a(p)}var d=this;c=c||f.noop;a=a||f.noop;var h=this.sorter(this.index.search(e));c(this.remote?h.slice():h);this.remote&&h.length<this.sufficient?this.remote.get(e,b):this.remote&&this.remote.cancelLastRequest();return this},all:function(){return this.index.all()},clear:function(){this.index.reset();return this},clearPrefetchCache:function(){this.prefetch&&
this.prefetch.clear();return this},clearRemoteCache:function(){A.resetCache();return this},ttAdapter:function(){return this.__ttAdapter()}});return k}()});
(function(g,f){"function"===typeof define&&define.amd?define(["jquery"],function(r){return f(r)}):"object"===typeof module&&module.exports?module.exports=f(require("jquery")):f(g.jQuery)})(this,function(g){var f=function(){return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},
isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isArray:g.isArray,isFunction:g.isFunction,isObject:g.isPlainObject,isUndefined:function(e){return"undefined"===typeof e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(e){return e instanceof g},toStr:function(e){return f.isUndefined(e)||null===e?"":e+""},bind:g.proxy,each:function(e,c){g.each(e,function(a,b){return c(b,a)})},map:g.map,filter:g.grep,every:function(e,c){var a=!0;if(!e)return a;
g.each(e,function(b,d){if(!(a=c.call(null,d,b,e)))return!1});return!!a},some:function(e,c){var a=!1;if(!e)return a;g.each(e,function(b,d){if(a=c.call(null,d,b,e))return!1});return!!a},mixin:g.extend,identity:function(e){return e},clone:function(e){return g.extend(!0,{},e)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(e){function c(){return String(e)}return g.isFunction(e)?e:c},defer:function(e){setTimeout(e,0)},debounce:function(e,c,a){var b,d;return function(){var h=
this,m=arguments;var p=a&&!b;clearTimeout(b);b=setTimeout(function(){b=null;a||(d=e.apply(h,m))},c);p&&(d=e.apply(h,m));return d}},throttle:function(e,c){var a,b,d,h;var m=0;var p=function(){m=new Date;d=null;h=e.apply(a,b)};return function(){var w=new Date,l=c-(w-m);a=this;b=arguments;0>=l?(clearTimeout(d),d=null,m=w,h=e.apply(a,b)):d||(d=setTimeout(p,l));return h}},stringify:function(e){return f.isString(e)?e:JSON.stringify(e)},guid:function(){function e(c){var a=(Math.random().toString(16)+"000000000").substr(2,
8);return c?"-"+a.substr(0,4)+"-"+a.substr(4,4):a}return"tt-"+e()+e(!0)+e(!0)+e()},noop:function(){}}}(),r=function(){function e(b){var d={};f.each(b,function(h,m){d[m]="."+h});return d}function c(){var b={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",
top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};f.isMsie()&&f.mixin(b.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"});return b}var a={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(b){b=
f.mixin({},a,b);var d={css:c(),classes:b,html:{wrapper:'<span class="'+b.wrapper+'"></span>',menu:'<div role="listbox" class="'+b.menu+'"></div>'},selectors:e(b)};return{css:d.css,html:d.html,classes:d.classes,selectors:d.selectors,mixin:function(h){f.mixin(h,d)}}}}(),q=function(){function e(a){a&&a.el||g.error("EventBus initialized without el");this.$el=g(a.el)}var c={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"};f.mixin(e.prototype,{_trigger:function(a,
b){a=g.Event("typeahead:"+a);this.$el.trigger.call(this.$el,a,b||[]);return a},before:function(a){var b=[].slice.call(arguments,1);return this._trigger("before"+a,b).isDefaultPrevented()},trigger:function(a){var b;this._trigger(a,[].slice.call(arguments,1));(b=c[a])&&this._trigger(b,[].slice.call(arguments,1))}});return e}(),x=function(){function e(h,m,p,w){if(!p)return this;m=m.split(b);p=w?a(p,w):p;for(this._callbacks=this._callbacks||{};w=m.shift();)this._callbacks[w]=this._callbacks[w]||{sync:[],
async:[]},this._callbacks[w][h].push(p);return this}function c(h,m,p){return function(){for(var w,l=0,t=h.length;!w&&l<t;l+=1)w=!1===h[l].apply(m,p);return!w}}function a(h,m){return h.bind?h.bind(m):function(){h.apply(m,[].slice.call(arguments,0))}}var b=/\s+/,d=function(){return window.setImmediate?function(h){setImmediate(function(){h()})}:function(h){setTimeout(function(){h()},0)}}();return{onSync:function(h,m,p){return e.call(this,"sync",h,m,p)},onAsync:function(h,m,p){return e.call(this,"async",
h,m,p)},off:function(h){var m;if(!this._callbacks)return this;for(h=h.split(b);m=h.shift();)delete this._callbacks[m];return this},trigger:function(h){var m,p,w;if(!this._callbacks)return this;h=h.split(b);for(w=[].slice.call(arguments,1);(m=h.shift())&&(p=this._callbacks[m]);){var l=c(p.sync,this,[m].concat(w));var t=c(p.async,this,[m].concat(w));l()&&d(t)}return this}}}(),A=function(e){function c(h){return d[h.toUpperCase()]||h}function a(h,m,p,w){for(var l=[],t=0,y=h.length;t<y;t++){var B=f.escapeRegExChars(h[t]);
w&&(B=B.replace(/\S/g,c));l.push(B)}h=p?"\\b("+l.join("|")+")\\b":"("+l.join("|")+")";return m?new RegExp(h):new RegExp(h,"i")}var b={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1,diacriticInsensitive:!1},d={A:"[Aa\u00aa\u00c0-\u00c5\u00e0-\u00e5\u0100-\u0105\u01cd\u01ce\u0200-\u0203\u0226\u0227\u1d2c\u1d43\u1e00\u1e01\u1e9a\u1ea0-\u1ea3\u2090\u2100\u2101\u213b\u249c\u24b6\u24d0\u3371-\u3374\u3380-\u3384\u3388\u3389\u33a9-\u33af\u33c2\u33ca\u33df\u33ff\uff21\uff41]",
B:"[Bb\u1d2e\u1d47\u1e02-\u1e07\u212c\u249d\u24b7\u24d1\u3374\u3385-\u3387\u33c3\u33c8\u33d4\u33dd\uff22\uff42]",C:"[Cc\u00c7\u00e7\u0106-\u010d\u1d9c\u2100\u2102\u2103\u2105\u2106\u212d\u216d\u217d\u249e\u24b8\u24d2\u3376\u3388\u3389\u339d\u33a0\u33a4\u33c4-\u33c7\uff23\uff43]",D:"[Dd\u010e\u010f\u01c4-\u01c6\u01f1-\u01f3\u1d30\u1d48\u1e0a-\u1e13\u2145\u2146\u216e\u217e\u249f\u24b9\u24d3\u32cf\u3372\u3377-\u3379\u3397\u33ad-\u33af\u33c5\u33c8\uff24\uff44]",E:"[Ee\u00c8-\u00cb\u00e8-\u00eb\u0112-\u011b\u0204-\u0207\u0228\u0229\u1d31\u1d49\u1e18-\u1e1b\u1eb8-\u1ebd\u2091\u2121\u212f\u2130\u2147\u24a0\u24ba\u24d4\u3250\u32cd\u32ce\uff25\uff45]",
F:"[Ff\u1da0\u1e1e\u1e1f\u2109\u2131\u213b\u24a1\u24bb\u24d5\u338a-\u338c\u3399\ufb00-\ufb04\uff26\uff46]",G:"[Gg\u011c-\u0123\u01e6\u01e7\u01f4\u01f5\u1d33\u1d4d\u1e20\u1e21\u210a\u24a2\u24bc\u24d6\u32cc\u32cd\u3387\u338d-\u338f\u3393\u33ac\u33c6\u33c9\u33d2\u33ff\uff27\uff47]",H:"[Hh\u0124\u0125\u021e\u021f\u02b0\u1d34\u1e22-\u1e2b\u1e96\u210b-\u210e\u24a3\u24bd\u24d7\u32cc\u3371\u3390-\u3394\u33ca\u33cb\u33d7\uff28\uff48]",I:"[Ii\u00cc-\u00cf\u00ec-\u00ef\u0128-\u0130\u0132\u0133\u01cf\u01d0\u0208-\u020b\u1d35\u1d62\u1e2c\u1e2d\u1ec8-\u1ecb\u2071\u2110\u2111\u2139\u2148\u2160-\u2163\u2165-\u2168\u216a\u216b\u2170-\u2173\u2175-\u2178\u217a\u217b\u24a4\u24be\u24d8\u337a\u33cc\u33d5\ufb01\ufb03\uff29\uff49]",
J:"[Jj\u0132-\u0135\u01c7-\u01cc\u01f0\u02b2\u1d36\u2149\u24a5\u24bf\u24d9\u2c7c\uff2a\uff4a]",K:"[Kk\u0136\u0137\u01e8\u01e9\u1d37\u1d4f\u1e30-\u1e35\u212a\u24a6\u24c0\u24da\u3384\u3385\u3389\u338f\u3391\u3398\u339e\u33a2\u33a6\u33aa\u33b8\u33be\u33c0\u33c6\u33cd-\u33cf\uff2b\uff4b]",L:"[Ll\u0139-\u0140\u01c7-\u01c9\u02e1\u1d38\u1e36\u1e37\u1e3a-\u1e3d\u2112\u2113\u2121\u216c\u217c\u24a7\u24c1\u24db\u32cf\u3388\u3389\u33d0-\u33d3\u33d5\u33d6\u33ff\ufb02\ufb04\uff2c\uff4c]",M:"[Mm\u1d39\u1d50\u1e3e-\u1e43\u2120\u2122\u2133\u216f\u217f\u24a8\u24c2\u24dc\u3377-\u3379\u3383\u3386\u338e\u3392\u3396\u3399-\u33a8\u33ab\u33b3\u33b7\u33b9\u33bd\u33bf\u33c1\u33c2\u33ce\u33d0\u33d4-\u33d6\u33d8\u33d9\u33de\u33df\uff2d\uff4d]",
N:"[Nn\u00d1\u00f1\u0143-\u0149\u01ca-\u01cc\u01f8\u01f9\u1d3a\u1e44-\u1e4b\u207f\u2115\u2116\u24a9\u24c3\u24dd\u3381\u338b\u339a\u33b1\u33b5\u33bb\u33cc\u33d1\uff2e\uff4e]",O:"[Oo\u00ba\u00d2-\u00d6\u00f2-\u00f6\u014c-\u0151\u01a0\u01a1\u01d1\u01d2\u01ea\u01eb\u020c-\u020f\u022e\u022f\u1d3c\u1d52\u1ecc-\u1ecf\u2092\u2105\u2116\u2134\u24aa\u24c4\u24de\u3375\u33c7\u33d2\u33d6\uff2f\uff4f]",P:"[Pp\u1d3e\u1d56\u1e54-\u1e57\u2119\u24ab\u24c5\u24df\u3250\u3371\u3376\u3380\u338a\u33a9-\u33ac\u33b0\u33b4\u33ba\u33cb\u33d7-\u33da\uff30\uff50]",
Q:"[Qq\u211a\u24ac\u24c6\u24e0\u33c3\uff31\uff51]",R:"[Rr\u0154-\u0159\u0210-\u0213\u02b3\u1d3f\u1d63\u1e58-\u1e5b\u1e5e\u1e5f\u20a8\u211b-\u211d\u24ad\u24c7\u24e1\u32cd\u3374\u33ad-\u33af\u33da\u33db\uff32\uff52]",S:"[Ss\u015a-\u0161\u017f\u0218\u0219\u02e2\u1e60-\u1e63\u20a8\u2101\u2120\u24ae\u24c8\u24e2\u33a7\u33a8\u33ae-\u33b3\u33db\u33dc\ufb06\uff33\uff53]",T:"[Tt\u0162-\u0165\u021a\u021b\u1d40\u1d57\u1e6a-\u1e71\u1e97\u2121\u2122\u24af\u24c9\u24e3\u3250\u32cf\u3394\u33cf\ufb05\ufb06\uff34\uff54]",
U:"[Uu\u00d9-\u00dc\u00f9-\u00fc\u0168-\u0173\u01af\u01b0\u01d3\u01d4\u0214-\u0217\u1d41\u1d58\u1d64\u1e72-\u1e77\u1ee4-\u1ee7\u2106\u24b0\u24ca\u24e4\u3373\u337a\uff35\uff55]",V:"[Vv\u1d5b\u1d65\u1e7c-\u1e7f\u2163-\u2167\u2173-\u2177\u24b1\u24cb\u24e5\u2c7d\u32ce\u3375\u33b4-\u33b9\u33dc\u33de\uff36\uff56]",W:"[Ww\u0174\u0175\u02b7\u1d42\u1e80-\u1e89\u1e98\u24b2\u24cc\u24e6\u33ba-\u33bf\u33dd\uff37\uff57]",X:"[Xx\u02e3\u1e8a-\u1e8d\u2093\u213b\u2168-\u216b\u2178-\u217b\u24b3\u24cd\u24e7\u33d3\uff38\uff58]",
Y:"[Yy\u00dd\u00fd\u00ff\u0176-\u0178\u0232\u0233\u02b8\u1e8e\u1e8f\u1e99\u1ef2-\u1ef9\u24b4\u24ce\u24e8\u33c9\uff39\uff59]",Z:"[Zz\u0179-\u017e\u01f1-\u01f3\u1dbb\u1e90-\u1e95\u2124\u2128\u24b5\u24cf\u24e9\u3390-\u3394\uff3a\uff5a]"};return function(h){function m(w,l){for(var t,y=0;y<w.childNodes.length;y++)t=w.childNodes[y],3===t.nodeType?y+=l(t)?1:0:m(t,l)}h=f.mixin({},b,h);if(h.node&&h.pattern){h.pattern=f.isArray(h.pattern)?h.pattern:[h.pattern];var p=a(h.pattern,h.caseSensitive,h.wordsOnly,
h.diacriticInsensitive);m(h.node,function(w){var l;if(l=p.exec(w.data)){var t=e.createElement(h.tagName);h.className&&(t.className=h.className);var y=w.splitText(l.index);y.splitText(l[0].length);t.appendChild(y.cloneNode(!0));w.parentNode.replaceChild(t,y)}return!!l})}}}(window.document),z=function(){function e(a,b){a=a||{};a.input||g.error("input is missing");b.mixin(this);this.$hint=g(a.hint);this.$input=g(a.input);this.$menu=g(a.menu);a=this.$input.attr("id")||f.guid();this.$menu.attr("id",a+
"_listbox");this.$hint.attr({"aria-hidden":!0});this.$input.attr({"aria-owns":a+"_listbox",role:"combobox","aria-autocomplete":"list","aria-expanded":!1});this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;a=this.$input;this.$overflowHelper=g('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:a.css("font-family"),fontSize:a.css("font-size"),fontStyle:a.css("font-style"),fontVariant:a.css("font-variant"),fontWeight:a.css("font-weight"),
wordSpacing:a.css("word-spacing"),letterSpacing:a.css("letter-spacing"),textIndent:a.css("text-indent"),textRendering:a.css("text-rendering"),textTransform:a.css("text-transform")}).insertAfter(a);this._checkLanguageDirection();0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=f.noop);this.onSync("cursorchange",this._updateDescendent)}var c={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};e.normalizeQuery=function(a){return f.toStr(a).replace(/^\s*/g,
"").replace(/\s{2,}/g," ")};f.mixin(e.prototype,x,{_onBlur:function(){this.resetInputValue();this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function(a){var b=c[a.which||a.keyCode];this._managePreventDefault(b,a);b&&this._shouldTrigger(b,a)&&this.trigger(b+"Keyed",a)},_onInput:function(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function(a,b){switch(a){case "up":case "down":a=
!(b.altKey||b.ctrlKey||b.metaKey||b.shiftKey);break;default:a=!1}a&&b.preventDefault()},_shouldTrigger:function(a,b){switch(a){case "tab":a=!(b.altKey||b.ctrlKey||b.metaKey||b.shiftKey);break;default:a=!0}return a},_checkLanguageDirection:function(){var a=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==a&&(this.dir=a,this.$hint.attr("dir",a),this.trigger("langDirChanged",a))},_setQuery:function(a,b){var d=this.query;var h=(d=e.normalizeQuery(a)===e.normalizeQuery(d))?this.query.length!==
a.length:!1;this.query=a;b||d?!b&&h&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},_updateDescendent:function(a,b){this.$input.attr("aria-activedescendant",b)},bind:function(){var a=this;var b=f.bind(this._onBlur,this);var d=f.bind(this._onFocus,this);var h=f.bind(this._onKeydown,this);var m=f.bind(this._onInput,this);this.$input.on("blur.tt",b).on("focus.tt",d).on("keydown.tt",h);if(!f.isMsie()||9<f.isMsie())this.$input.on("input.tt",m);else this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",
function(p){c[p.which||p.keyCode]||f.defer(f.bind(a._onInput,a,p))});return this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(a,b){this.setInputValue(a);this._setQuery(a,b)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(a){this.$input.val(a);this.clearHintIfInvalid();
this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(a){this.$hint.val(a)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var a=this.getInputValue();var b=this.getHint();b=a!==b&&0===b.indexOf(a);""!==a&&b&&!this.hasOverflow()||this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var a=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());
return this.$overflowHelper.width()>=a},isCursorAtEnd:function(){var a=this.$input.val().length;var b=this.$input[0].selectionStart;return f.isNumber(b)?b===a:document.selection?(b=document.selection.createRange(),b.moveStart("character",-a),a===b.text.length):!0},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=g("<div>")},setAriaExpanded:function(a){this.$input.attr("aria-expanded",a)}});return e}(),C=function(){function e(d,
h){d=d||{};d.templates=d.templates||{};d.templates.notFound=d.templates.notFound||d.templates.empty;d.source||g.error("missing source");d.node||g.error("missing node");d.name&&!/^[_a-zA-Z0-9-]+$/.test(d.name)&&g.error("invalid dataset name: "+d.name);h.mixin(this);this.highlight=!!d.highlight;this.name=f.toStr(d.name||b());this.limit=d.limit||5;this.displayFn=c(d.display||d.displayKey);this.templates=a(d.templates,this.displayFn);this.source=d.source.__ttAdapter?d.source.__ttAdapter():d.source;this.async=
f.isUndefined(d.async)?2<this.source.length:!!d.async;this._resetLastSuggestion();this.$el=g(d.node).attr("role","presentation").addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function c(d){function h(m){return m[d]}d=d||f.stringify;return f.isFunction(d)?d:h}function a(d,h){function m(w){var l=d.suggestion;return g(l(w)).attr("id",f.guid())}function p(w){return g('<div role="option">').attr("id",f.guid()).text(h(w))}return{notFound:d.notFound&&f.templatify(d.notFound),
pending:d.pending&&f.templatify(d.pending),header:d.header&&f.templatify(d.header),footer:d.footer&&f.templatify(d.footer),suggestion:d.suggestion?m:p}}var b=f.getIdGenerator();e.extractData=function(d){d=g(d);return d.data("tt-selectable-object")?{dataset:d.data("tt-selectable-dataset")||"",val:d.data("tt-selectable-display")||"",obj:d.data("tt-selectable-object")||null}:null};f.mixin(e.prototype,x,{_overwrite:function(d,h){h=h||[];h.length?this._renderSuggestions(d,h):this.async&&this.templates.pending?
this._renderPending(d):!this.async&&this.templates.notFound?this._renderNotFound(d):this._empty();this.trigger("rendered",h,!1,this.name)},_append:function(d,h){h=h||[];h.length&&this.$lastSuggestion.length?this._appendSuggestions(d,h):h.length?this._renderSuggestions(d,h):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(d);this.trigger("rendered",h,!0,this.name)},_renderSuggestions:function(d,h){var m=this._getSuggestionsFragment(d,h);this.$lastSuggestion=m.children().last();
this.$el.html(m).prepend(this._getHeader(d,h)).append(this._getFooter(d,h))},_appendSuggestions:function(d,h){d=this._getSuggestionsFragment(d,h);h=d.children().last();this.$lastSuggestion.after(d);this.$lastSuggestion=h},_renderPending:function(d){var h=this.templates.pending;this._resetLastSuggestion();h&&this.$el.html(h({query:d,dataset:this.name}))},_renderNotFound:function(d){var h=this.templates.notFound;this._resetLastSuggestion();h&&this.$el.html(h({query:d,dataset:this.name}))},_empty:function(){this.$el.empty();
this._resetLastSuggestion()},_getSuggestionsFragment:function(d,h){var m=this;var p=document.createDocumentFragment();f.each(h,function(w){var l=m._injectQuery(d,w);w=g(m.templates.suggestion(l)).data("tt-selectable-dataset",m.name).data("tt-selectable-object",w).data("tt-selectable-display",m.displayFn(w)).addClass(m.classes.suggestion+" "+m.classes.selectable);p.appendChild(w[0])});this.highlight&&A({className:this.classes.highlight,node:p,pattern:d});return g(p)},_getFooter:function(d,h){return this.templates.footer?
this.templates.footer({query:d,suggestions:h,dataset:this.name}):null},_getHeader:function(d,h){return this.templates.header?this.templates.header({query:d,suggestions:h,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=g()},_injectQuery:function(d,h){return f.isObject(h)?f.mixin({_query:d},h):h},update:function(d){function h(t){w||(w=!0,t=(t||[]).slice(0,m.limit),l=t.length,m._overwrite(d,t),l<m.limit&&m.async&&m.trigger("asyncRequested",d,m.name))}var m=this,p=!1,w=
!1,l=0;this.cancel();this.cancel=function(){p=!0;m.cancel=g.noop;m.async&&m.trigger("asyncCanceled",d,m.name)};this.source(d,h,function(t){t=t||[];if(!p&&l<m.limit){m.cancel=g.noop;var y=Math.abs(l-m.limit);l+=y;m._append(d,t.slice(0,y));m.async&&m.trigger("asyncReceived",d,m.name)}});!w&&h([])},cancel:g.noop,clear:function(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=g("<div>")}});return e}(),v=function(){function e(c,
a){var b=this;c=c||{};c.node||g.error("node is required");a.mixin(this);this.$node=g(c.node);this.query=null;this.datasets=f.map(c.datasets,function(d){var h=b.$node.find(d.node).first();d.node=h.length?h:g("<div>").appendTo(b.$node);return new C(d,a)})}f.mixin(e.prototype,x,{_onSelectableClick:function(c){this.trigger("selectableClicked",g(c.currentTarget))},_onRendered:function(c,a,b,d){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",a,b,d)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,
this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return f.every(this.datasets,f.bind(function(c){c=c.isEmpty();this.$node.attr("aria-expanded",!c);return c},this))},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var c=this.getActiveSelectable();c&&c.removeClass(this.classes.cursor)},_ensureVisible:function(c){var a=c.position().top;c=a+c.outerHeight(!0);
var b=this.$node.scrollTop();var d=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);0>a?this.$node.scrollTop(b+a):d<c&&this.$node.scrollTop(b+(c-d))},bind:function(){var c=this;var a=f.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,a);this.$node.on("mouseover",this.selectors.selectable,function(){c.setCursor(g(this))});this.$node.on("mouseleave",function(){c._removeCursor()});f.each(this.datasets,function(b){b.onSync("asyncRequested",
c._propagate,c).onSync("asyncCanceled",c._propagate,c).onSync("asyncReceived",c._propagate,c).onSync("rendered",c._onRendered,c).onSync("cleared",c._onCleared,c)});return this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.scrollTop(0);this.$node.addClass(this.classes.open)},close:function(){this.$node.attr("aria-expanded",!1);this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function(c){this.$node.attr("dir",c)},selectableRelativeToCursor:function(c){var a=
this.getActiveSelectable();var b=this._getSelectables();c=((a?b.index(a):-1)+c+1)%(b.length+1)-1;c=-1>c?b.length-1:c;return-1===c?null:b.eq(c)},setCursor:function(c){this._removeCursor();if(c=c&&c.first())c.addClass(this.classes.cursor),this._ensureVisible(c)},getSelectableData:function(c){return c&&c.length?C.extractData(c):null},getActiveSelectable:function(){var c=this._getSelectables().filter(this.selectors.cursor).first();return c.length?c:null},getTopSelectable:function(){var c=this._getSelectables().first();
return c.length?c:null},update:function(c){function a(d){d.update(c)}var b=c!==this.query;b&&(this.query=c,f.each(this.datasets,a));return b},empty:function(){f.each(this.datasets,function(c){c.clear()});this.query=null;this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt");this.$node=g("<div>");f.each(this.datasets,function(c){c.destroy()})}});return e}(),u=function(){function e(c){this.$el=g("<span></span>",{role:"status","aria-live":"polite"}).css({position:"absolute",
padding:"0",border:"0",height:"1px",width:"1px","margin-bottom":"-1px","margin-right":"-1px",overflow:"hidden",clip:"rect(0 0 0 0)","white-space":"nowrap"});c.$input.after(this.$el);f.each(c.menu.datasets,f.bind(function(a){a.onSync&&(a.onSync("rendered",f.bind(this.update,this)),a.onSync("cleared",f.bind(this.cleared,this)))},this))}f.mixin(e.prototype,{update:function(c,a){var b,d;c=a.length;1===c?(b="result",d="is"):(b="results",d="are");this.$el.text(c+" "+b+" "+d+" available, use up and down arrow keys to navigate.")},
cleared:function(){this.$el.text("")}});return e}(),k=function(){function e(){v.apply(this,[].slice.call(arguments,0))}var c=v.prototype;f.mixin(e.prototype,v.prototype,{open:function(){!this._allDatasetsEmpty()&&this._show();return c.open.apply(this,[].slice.call(arguments,0))},close:function(){this._hide();return c.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show();return c._onRendered.apply(this,[].slice.call(arguments,
0))},_onCleared:function(){this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show();return c._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(a){this.$node.css("ltr"===a?this.css.ltr:this.css.rtl);return c.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}});return e}(),n=function(){function e(a,b){a=a||{};a.input||g.error("missing input");a.menu||g.error("missing menu");
a.eventBus||g.error("missing event bus");b.mixin(this);this.eventBus=a.eventBus;this.minLength=f.isNumber(a.minLength)?a.minLength:1;this.input=a.input;this.menu=a.menu;this.enabled=!0;this.autoselect=!!a.autoselect;this.active=!1;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",
this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);a=c(this,"activate","open","_onFocused");b=c(this,"deactivate","_onBlurred");var d=c(this,"isActive","isOpen","_onEnterKeyed");var h=c(this,"isActive","isOpen","_onTabKeyed");var m=c(this,"isActive","_onEscKeyed");var p=c(this,"isActive","open","_onUpKeyed");var w=c(this,"isActive","open","_onDownKeyed");var l=c(this,"isActive","isOpen","_onLeftKeyed");var t=c(this,
"isActive","isOpen","_onRightKeyed");var y=c(this,"_openIfActive","_onQueryChanged");var B=c(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",a,this).onSync("blurred",b,this).onSync("enterKeyed",d,this).onSync("tabKeyed",h,this).onSync("escKeyed",m,this).onSync("upKeyed",p,this).onSync("downKeyed",w,this).onSync("leftKeyed",l,this).onSync("rightKeyed",t,this).onSync("queryChanged",y,this).onSync("whitespaceChanged",B,this).onSync("langDirChanged",this._onLangDirChanged,
this)}function c(a){var b=[].slice.call(arguments,1);return function(){var d=[].slice.call(arguments);f.each(b,function(h){return a[h].apply(a,d)})}}f.mixin(e.prototype,{_hacks:function(){var a=this.input.$input||g("<div>");var b=this.menu.$node||g("<div>");a.on("blur.tt",function(d){var h=document.activeElement;var m=b.is(h);h=0<b.has(h).length;f.isMsie()&&(m||h)&&(d.preventDefault(),d.stopImmediatePropagation(),f.defer(function(){a.focus()}))});b.on("mousedown.tt",function(d){d.preventDefault()})},
_onSelectableClicked:function(a,b){this.select(b)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(a,b,d,h){this._updateHint();this.autoselect&&(a=this.selectors.cursor.substr(1),this.menu.$node.find(this.selectors.suggestion).first().addClass(a));this.eventBus.trigger("render",b,d,h)},_onAsyncRequested:function(a,b,d){this.eventBus.trigger("asyncrequest",d,b)},_onAsyncCanceled:function(a,b,d){this.eventBus.trigger("asynccancel",d,b)},_onAsyncReceived:function(a,b,d){this.eventBus.trigger("asyncreceive",
d,b)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(a,b){(a=this.menu.getActiveSelectable())?this.select(a)&&(b.preventDefault(),b.stopPropagation()):this.autoselect&&this.select(this.menu.getTopSelectable())&&(b.preventDefault(),b.stopPropagation())},_onTabKeyed:function(a,b){var d;(d=this.menu.getActiveSelectable())?
this.select(d)&&b.preventDefault():this.autoselect&&(d=this.menu.getTopSelectable())&&this.autocomplete(d)&&b.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getActiveSelectable()||
this.menu.getTopSelectable())},_onQueryChanged:function(a,b){this._minLengthMet(b)?this.menu.update(b):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(a,b){this.dir!==b&&(this.dir=b,this.menu.setLanguageDirection(b))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(a){a=f.isString(a)?a:this.input.getQuery()||"";return a.length>=this.minLength},_updateHint:function(){var a=this.menu.getTopSelectable();var b=this.menu.getSelectableData(a);
a=this.input.getInputValue();if(!b||f.isBlankString(a)||this.input.hasOverflow())this.input.clearHint();else{var d=z.normalizeQuery(a);d=f.escapeRegExChars(d);d=new RegExp("^(?:"+d+")(.+$)","i");(b=d.exec(b.val))&&this.input.setHint(a+b[1])}},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){if(this.isActive())return!0;if(!this.isEnabled()||this.eventBus.before("active"))return!1;
this.active=!0;this.eventBus.trigger("active");return!0},deactivate:function(){if(this.isActive()){if(this.eventBus.before("idle"))return!1;this.active=!1;this.close();this.eventBus.trigger("idle")}return!0},isOpen:function(){return this.menu.isOpen()},open:function(){this.isOpen()||this.eventBus.before("open")||(this.input.setAriaExpanded(!0),this.menu.open(),this._updateHint(),this.eventBus.trigger("open"));return this.isOpen()},close:function(){this.isOpen()&&!this.eventBus.before("close")&&(this.input.setAriaExpanded(!1),
this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close"));return!this.isOpen()},setVal:function(a){this.input.setQuery(f.toStr(a))},getVal:function(){return this.input.getQuery()},select:function(a){return(a=this.menu.getSelectableData(a))&&!this.eventBus.before("select",a.obj,a.dataset)?(this.input.setQuery(a.val,!0),this.eventBus.trigger("select",a.obj,a.dataset),this.close(),!0):!1},autocomplete:function(a){var b=this.input.getQuery();return(a=this.menu.getSelectableData(a))&&
b!==a.val&&!this.eventBus.before("autocomplete",a.obj,a.dataset)?(this.input.setQuery(a.val),this.eventBus.trigger("autocomplete",a.obj,a.dataset),!0):!1},moveCursor:function(a){var b;var d=this.input.getQuery();a=this.menu.selectableRelativeToCursor(a);var h=(b=this.menu.getSelectableData(a))?b.obj:null;var m=b?b.dataset:null;var p=a?a.attr("id"):null;this.input.trigger("cursorchange",p);return this._minLengthMet()&&this.menu.update(d)||this.eventBus.before("cursorchange",h,m)?!1:(this.menu.setCursor(a),
b?"string"===typeof b.val&&this.input.setInputValue(b.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",h,m),!0)},destroy:function(){this.input.destroy();this.menu.destroy()}});return e}();(function(){function e(l,t){l.each(function(){var y=g(this),B;(B=y.data(p.typeahead))&&t(B,y)})}function c(l,t){return l.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(b(l)).prop({readonly:!0,required:!1}).removeAttr("id name placeholder").removeClass("required").attr({spellcheck:"false",
tabindex:-1})}function a(l,t){l.data(p.attrs,{dir:l.attr("dir"),autocomplete:l.attr("autocomplete"),spellcheck:l.attr("spellcheck"),style:l.attr("style")});l.addClass(t.classes.input).attr({spellcheck:!1});try{!l.attr("dir")&&l.attr("dir","auto")}catch(y){}return l}function b(l){return{backgroundAttachment:l.css("background-attachment"),backgroundClip:l.css("background-clip"),backgroundColor:l.css("background-color"),backgroundImage:l.css("background-image"),backgroundOrigin:l.css("background-origin"),
backgroundPosition:l.css("background-position"),backgroundRepeat:l.css("background-repeat"),backgroundSize:l.css("background-size")}}function d(l){var t=l.data(p.www);var y=l.parent().filter(t.selectors.wrapper);f.each(l.data(p.attrs),function(B,F){f.isUndefined(B)?l.removeAttr(F):l.attr(F,B)});l.removeData(p.typeahead).removeData(p.www).removeData(p.attr).removeClass(t.classes.input);y.length&&(l.detach().insertAfter(y),y.remove())}function h(l){l=f.isJQuery(l)||f.isElement(l)?g(l).first():[];return l.length?
l:null}var m=g.fn.typeahead;var p={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};var w={initialize:function(l,t){t=f.isArray(t)?t:[].slice.call(arguments,1);l=l||{};var y=r(l.classNames);return this.each(function(){f.each(t,function(I){I.highlight=!!l.highlight});var B=g(this);var F=g(y.html.wrapper);var E=h(l.hint);var D=h(l.menu);var G=!1!==l.hint&&!E;var H=!1!==l.menu&&!D;G&&(E=c(B,y));H&&(D=g(y.html.menu).css(y.css.menu));E&&E.val("");B=a(B,y);if(G||H)F.css(y.css.wrapper),B.css(G?y.css.input:
y.css.inputWithNoHint),B.wrap(F).parent().prepend(G?E:null).append(H?D:null);G=H?k:v;F=new q({el:B});E=new z({hint:E,input:B,menu:D},y);D=new G({node:D,datasets:t},y);new u({$input:B,menu:D});D=new n({input:E,menu:D,eventBus:F,minLength:l.minLength,autoselect:l.autoselect},y);B.data(p.www,y);B.data(p.typeahead,D)})},isEnabled:function(){var l;e(this.first(),function(t){l=t.isEnabled()});return l},enable:function(){e(this,function(l){l.enable()});return this},disable:function(){e(this,function(l){l.disable()});
return this},isActive:function(){var l;e(this.first(),function(t){l=t.isActive()});return l},activate:function(){e(this,function(l){l.activate()});return this},deactivate:function(){e(this,function(l){l.deactivate()});return this},isOpen:function(){var l;e(this.first(),function(t){l=t.isOpen()});return l},open:function(){e(this,function(l){l.open()});return this},close:function(){e(this,function(l){l.close()});return this},select:function(l){var t=!1,y=g(l);e(this.first(),function(B){t=B.select(y)});
return t},autocomplete:function(l){var t=!1,y=g(l);e(this.first(),function(B){t=B.autocomplete(y)});return t},moveCursor:function(l){var t=!1;e(this.first(),function(y){t=y.moveCursor(l)});return t},val:function(l){var t;if(arguments.length)return e(this,function(y){y.setVal(f.toStr(l))}),this;e(this.first(),function(y){t=y.getVal()});return t},destroy:function(){e(this,function(l,t){d(t);l.destroy()});return this}};g.fn.typeahead=function(l){return w[l]?w[l].apply(this,[].slice.call(arguments,1)):
w.initialize.apply(this,arguments)};g.fn.typeahead.noConflict=function(){g.fn.typeahead=m;return this}})()});
